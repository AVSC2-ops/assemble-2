(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,a){e.exports=a(241)},163:function(e,t,a){},238:function(e,t){},241:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),l=a(9),i=a(141),o=a(41),u=a(146),m=a(307),d=(a(163),a(13)),p=a.n(d),E=a(23),v="RECEIVE_SOCKET_MESSAGE",f="RECEIVE_SOCKET_PRIVATE_MESSAGE",b=a(131),g=a.n(b).a.create({baseURL:"https://simple-chat-apix.herokuapp.com"}),h=function(e){return{type:"SEND_SOCKET_MESSAGE",payload:e}},y=function(e){return{type:"SEND_SOCKET_PRIVATE_MESSAGE",payload:e}},O=function(e){return{type:"ADD_CHANNEL",payload:e}},j=function(e){return{type:"ADD_SERVER",payload:e}},N=function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/server/activeusers?serverId=".concat(e));case 2:n=t.sent,a({type:"UPDATE_ACTIVE_USERS",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:"UPDATE_ACTIVE_STATE",payload:e}},S=function(e){return function(t){t(N(e.split("-")[1])),t({type:"CHANGE_SERVER",payload:e})}},x=function(e){return{type:"CHANGE_CHANNEL",payload:e}},k=function(e){return{type:"CHANGE_VIEW",payload:e}},I=function(e){return{type:"CHANGE_PM_USER",payload:e}},w=function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/user/data?userId=".concat(e),t.next=3,g.get(n);case 3:r=t.sent,a(N(Object.keys(r.data.servers)[0].split("-")[1])),a({type:"GET_INITIAL_DATA",payload:r.data});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=function(e){return{type:"SIGN_IN",payload:e}},_=function(e){return{type:"SIGN_OUT",payload:e}},T=a(132),D=a.n(T),M=a(26),R=Object(M.b)(),V=a(6),P=a(245),U=a(311);function L(e){var t=e.content,a=e.visible,n=e.setVisible;return r.a.createElement(U.a,{open:a,message:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},onEntered:function(){setTimeout(function(){n(!1)},2500)}})}var G=a(275),H=a(243),K=a(277),B=a(278),J=a(61),W=a(279),z=a(281),F=a(282),X=a(280);function Y(){var e=Object(l.c)(function(e){return e.chat}).privateMessages,t=Object(l.c)(function(e){return e.user}),a=Object.keys(e),n=Object(l.b)();return r.a.createElement("div",{className:"channels-container"},r.a.createElement(G.a,{className:"channel-list"},r.a.createElement(H.a,{className:"title-container"},"Home"),a.map(function(e,t){return r.a.createElement(K.a,{direction:"right",in:!0,timeout:200*(t+1),key:t},r.a.createElement(H.a,{button:!0,className:"user-item",onClick:function(){return n(I(e))}},r.a.createElement(B.a,null," ",r.a.createElement("img",{className:"user",src:"/React-Discord-Clone/user.png",alt:"user icon",height:"48"})," "),r.a.createElement(J.a,{variant:"body1",className:"user-list-name"},e)))})),r.a.createElement("div",{className:"user-options"},r.a.createElement(H.a,{className:"user-info"},r.a.createElement(W.a,null,r.a.createElement(B.a,null,r.a.createElement(X.a,null))),r.a.createElement(z.a,{primary:t.userName}),r.a.createElement(F.a,{onClick:function(){localStorage.clear("user"),n(_(t.userId))}},"Sign out"))))}var $=a(285),q=a(286),Q=a(312),Z=a(284),ee=a(147),te=a(288);function ae(e){var t=Object(l.c)(function(e){return e.chat}),a=Object.keys(t.servers[t.activeServer].channels),c=t.activeServer,s=Object(l.b)(),i=Object(l.c)(function(e){return e.user}),o=e.setDrawerVisible,u=e.setModalVisible,m=e.setModalType,d=e.handleSnackMessage,v=Object(n.useState)(null),f=Object(V.a)(v,2),b=f[0],h=f[1],y=Object(n.useState)(null),O=Object(V.a)(y,2),j=O[0],N=O[1],C=Object(n.useState)(!1),S=Object(V.a)(C,2),k=S[0],I=S[1];Object(n.useEffect)(function(){function e(){return(e=Object(E.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.split("-")[1],e.next=3,g.get("/server/admin?serverId=".concat(t,"&userId=").concat(i.userId));case 3:a=e.sent,I(a.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[c,i]);var w=function(e){m(e),u(!0)},A=function(e,t){"server"===t?h(e.currentTarget):"channel"===t&&N(e.currentTarget)},T=function(){h(null),N(null)};return r.a.createElement("div",{className:"channels-container"},r.a.createElement(G.a,{className:"channel-list"},r.a.createElement(H.a,{className:"title-container"},c.split("-")[0],k?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{title:"Server Settings",key:"server-settings",placement:"right",className:"tooltip"},r.a.createElement(Z.a,{onClick:function(e){return A(e,"server")}}," ",r.a.createElement($.a,null)," "))):null),a.map(function(e,t){return r.a.createElement(K.a,{direction:"right",in:!0,timeout:200*(t+1),key:e+c},r.a.createElement(H.a,{onClick:function(t){return function(e){s(x(e)),"undefined"!==typeof o&&o(!1)}(e)},button:!0,className:"channel-item"},r.a.createElement(J.a,{variant:"body1"},r.a.createElement("i",{className:"channel-hashtag"},"#"),e.split("-")[0].toLowerCase()),k?r.a.createElement(Q.a,{title:"Server Settings",key:"server-settings",placement:"right",className:"tooltip"},r.a.createElement(Z.a,{onClick:function(e){return A(e,"channel")}}," ",r.a.createElement(q.a,{className:"channel-settings"})," ")):null))})),r.a.createElement("div",{className:"user-options"},r.a.createElement(H.a,{className:"user-info"},r.a.createElement(W.a,null,r.a.createElement(B.a,null,r.a.createElement(X.a,null))),r.a.createElement(z.a,{primary:i.userName}),r.a.createElement(F.a,{onClick:function(){localStorage.clear("user"),s(_(i.userId))}},"Sign out"))),r.a.createElement(ee.a,{id:"server-settings-menu",anchorEl:b,open:Boolean(b),onClick:T,onClose:T},r.a.createElement(te.a,{onClick:function(){return e=c.split("-")[1],navigator.clipboard.writeText(e),void d("Server ID ".concat(e," saved to clipboard"),!1);var e}}," Server Id - ",c.split("-")[1]," "),r.a.createElement(te.a,{onClick:function(){return w("server-rename")}}," Change Server Name "),r.a.createElement(te.a,{onClick:function(){return w("server-delete")}}," Delete Server "),r.a.createElement(te.a,{onClick:function(){return w("channel-create")}}," Add Channel ")),r.a.createElement(ee.a,{id:"channel-settings-menu",anchorEl:j,open:Boolean(j),onClick:T,onClose:T},r.a.createElement(te.a,{onClick:function(){return w("channel-rename")}}," Change Channel Name "),r.a.createElement(te.a,{onClick:function(){return e=function(){return w("channel-delete")},void(1===a.length?d("Please delete the server if only 1 channel"):e());var e}}," Delete Channel ")))}var ne=a(289),re=a(290),ce=a(291);function se(e){var t=Object(l.c)(function(e){return e.chat}),a=Object.keys(t.servers),n=Object(l.b)(),c=e.setModalVisible,s=e.setModalType,i=function(e,t){n(k(e)),void 0!==t&&t()};return r.a.createElement("div",{className:"servers-container"},r.a.createElement(G.a,null,r.a.createElement(Q.a,{title:"Home",key:"home",placement:"right",className:"tooltip"},r.a.createElement(Z.a,{className:"home-icon",onClick:function(){return i("home")}},r.a.createElement(ne.a,null))),r.a.createElement("div",{className:"menu-seperator"}),a.map(function(e){return r.a.createElement(Q.a,{title:e.split("-")[0],key:e,placement:"right",className:"tooltip"},r.a.createElement(Z.a,{className:"server-icon",onClick:function(){return i("servers",function(){return function(e){n(S(e))}(e)})}},r.a.createElement(re.a,null)))}),r.a.createElement(Q.a,{title:"Create Server",key:"create-server",placement:"right",className:"tooltip"},r.a.createElement(Z.a,{className:"server-icon",onClick:function(){return i("servers",function(){return s("server-create-join"),void c(!0)})}},r.a.createElement(ce.a,null)))))}var le=a(292),ie=a(293),oe=a(294),ue=a(295),me=a(296),de=a(308),pe=a(94),Ee=a(297),ve=a(298);function fe(e){var t=Object(l.c)(function(e){return e.user}).userId,a=Object(l.c)(function(e){return e.chat}),c=a.activeServer,s=a.activeChannel,i=Object(l.b)(),o=e.handleSnackMessage,u=e.modalType,m=Object(n.useState)(!0),d=Object(V.a)(m,2),v=d[0],f=d[1],b=Object(n.useState)("left"),h=Object(V.a)(b,2),y=h[0],N=h[1],C=Object(n.useState)(!1),S=Object(V.a)(C,2),x=S[0],k=S[1],I=Object(n.useState)("left"),w=Object(V.a)(I,2),A=w[0],_=w[1],T=Object(n.useState)(!1),D=Object(V.a)(T,2),M=D[0],R=D[1],P=Object(n.useState)("left"),U=Object(V.a)(P,2),L=U[0],G=U[1],H=Object(n.useState)(""),B=Object(V.a)(H,2),W=B[0],z=B[1],X=Object(n.useState)(""),Y=Object(V.a)(X,2),$=Y[0],q=Y[1],Q=Object(n.useState)(""),Z=Object(V.a)(Q,2),ee=Z[0],te=Z[1],ae=function(){var e=Object(E.a)(p.a.mark(function e(t,a){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/server/create?serverName=".concat(t,"&userId=").concat(a));case 3:n=e.sent,i(j(n.data)),r="Server ".concat(n.data.server.split("-")[0]," with ID ").concat(n.data.server.split("-")[1]," created"),o(r,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(e.t0.response.data,!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(E.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/server/join?serverId=".concat(t,"&userId=").concat(a));case 3:n=e.sent,o(n.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(E.a)(p.a.mark(function e(a,n){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/server/rename?serverName=".concat(a,"&serverId=").concat(n,"&userId=").concat(t));case 3:r=e.sent,o(r.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(E.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/server/delete?serverId=".concat(t,"&userId=").concat(a));case 3:n=e.sent,o(n.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(E.a)(p.a.mark(function e(a,n){var r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/channel/create?channelName=".concat(a,"&server=").concat(n,"&userId=").concat(t));case 3:r=e.sent,i(O(r.data)),c="Server ".concat(r.data.channel.split("-")[0]," with ID ").concat(r.data.channel.split("-"[1])," created"),o(c,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(e.t0.response.data,!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(E.a)(p.a.mark(function e(a,n){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/channel/rename?channelName=".concat(a,"&channelId=").concat(n,"&serverId=").concat(c.split("-")[1],"&userId=").concat(t));case 3:r=e.sent,o(r.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(E.a)(p.a.mark(function e(a,n){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/channel/delete?channelId=".concat(n,"&serverId=").concat(c.split("-")[1],"&userId=").concat(t));case 3:r=e.sent,o(r.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),ge=function(e,t){"Enter"===e.key&&t()};return"server-create-join"===u?r.a.createElement(pe.a,{className:"container-prompt"},r.a.createElement(K.a,{direction:y,in:v,timeout:500,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Another server? Wow you're popular!")),r.a.createElement(le.a,{item:!0,sm:6,xs:12},r.a.createElement(ie.a,{className:"grid-card"},r.a.createElement(oe.a,{onClick:function(){return N("right"),G("left"),k(!0),void f(!1)}},r.a.createElement(ue.a,null,r.a.createElement(J.a,{variant:"h5",color:"primary",gutterBottom:!0},"Create"),r.a.createElement(J.a,{variant:"body1",paragraph:!0},"Create a server and invite all your buddies."),r.a.createElement(me.a,null,r.a.createElement(Ee.a,{className:"modal-card-icon"})),r.a.createElement(F.a,{variant:"contained",color:"primary",className:"modal-button"},"Join a server"))))),r.a.createElement(le.a,{item:!0,sm:6,xs:12},r.a.createElement(ie.a,{className:"grid-card"},r.a.createElement(oe.a,{onClick:function(){return N("right"),_("left"),R(!0),void f(!1)}},r.a.createElement(ue.a,null,r.a.createElement(J.a,{variant:"h5",color:"secondary",gutterBottom:!0},"Join"),r.a.createElement(J.a,{variant:"body1",paragraph:!0},"Join a friends server and pwn some noobs!"),r.a.createElement(me.a,null,r.a.createElement(ve.a,{className:"modal-card-icon"})),r.a.createElement(F.a,{variant:"contained",color:"secondary",className:"modal-button"},"Join a server"))))))),r.a.createElement(K.a,{direction:A,in:x,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Create a Server!")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(J.a,{variant:"body1",paragraph:!0}," Enter a Server Name to create a server and get access to unlimited chat channels! "),r.a.createElement(de.a,{id:"create-server-field",label:"Server Name",value:W,onChange:function(e){return z(e.target.value)},onKeyPress:function(e){return ge(e,function(){return ae(W,t)})},margin:"dense",variant:"outlined",autoComplete:"off"})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return ae(W,t)}},"Create Server")))),r.a.createElement(K.a,{direction:L,in:M,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Join a Server!")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(J.a,{variant:"body1",paragraph:!0}," Enter a the Server Id provided by your friend and start chatting right now!  "),r.a.createElement(de.a,{id:"join-server-field",label:"Server Id",value:$,onChange:function(e){return q(e.target.value)},onKeyPress:function(e){return ge(e,function(){return ne($,t)})},margin:"dense",variant:"outlined",autoComplete:"off"})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return ne($,t)}},"Join Server"))))):"channel-create"===u?r.a.createElement(pe.a,{className:"container-prompt"},r.a.createElement(K.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Create a Channel!")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(J.a,{variant:"body1",paragraph:!0}," Enter a Channel Name for your new channel and start chatting right now!  "),r.a.createElement(de.a,{id:"create-channel-field",label:"Channel Name",value:ee,onChange:function(e){return te(e.target.value)},onKeyPress:function(e){return ge(e,function(){return se(ee,c)})},margin:"dense",variant:"outlined",autoComplete:"off"})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return se(ee,c)}},"Create Channel"))))):"server-rename"===u?r.a.createElement(pe.a,{className:"container-prompt"},r.a.createElement(K.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Rename Server")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(J.a,{variant:"body1",paragraph:!0}," Enter a new Server Name for Server - ",c.split("-")[0]," "),r.a.createElement(de.a,{id:"create-channel-field",label:"Channel Name",value:W,onChange:function(e){return z(e.target.value)},onKeyPress:function(e){return ge(e,function(){return re(W,c.split("-")[1])})},margin:"dense",variant:"outlined",autoComplete:"off"})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return re(W,c.split("-")[1])}},"Rename Server"))))):"channel-rename"===u?r.a.createElement(pe.a,{className:"container-prompt"},r.a.createElement(K.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Rename Chanel")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(J.a,{variant:"body1",paragraph:!0}," Enter a new Channel Name for Channel - ",s.split("-")[0]," "),r.a.createElement(de.a,{id:"create-channel-field",label:"Channel Name",value:ee,onChange:function(e){return te(e.target.value)},onKeyPress:function(e){return ge(e,function(){return fe(ee,s.split("-")[1])})},margin:"dense",variant:"outlined",autoComplete:"off"})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return fe(ee,s.split("-")[1])}},"Rename Channel"))))):"channel-delete"===u?r.a.createElement(pe.a,{className:"container-prompt"},r.a.createElement(K.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Delete Channel")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(J.a,{variant:"body1",paragraph:!0}," Are you sure you want to delete - ",s.split("-")[0]," ")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"green",marginRight:"8px"},onClick:function(){return be(ee,s.split("-")[1])}},"Yes"),r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"red",marginLeft:"8px"},onClick:function(){return o("Not deleting channel",!1)}},"No"))))):"server-delete"===u?r.a.createElement(pe.a,{className:"container-prompt"},r.a.createElement(K.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Delete Server")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(J.a,{variant:"body1",paragraph:!0}," Are you sure you want to delete - ",c.split("-")[0]," ")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"green",marginRight:"8px"},onClick:function(){return ce(c.split("-")[1],t)}},"Yes"),r.a.createElement(F.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"red",marginLeft:"8px"},onClick:function(){return o("Not deleting channel",!1)}},"No"))))):void 0}function be(e){var t=Object(l.c)(function(e){return e.user}),a=Object(l.c)(function(e){return e.chat}).activeView,c=Object(l.b)(),s=e.setDrawerVisible,i=Object(n.useState)(!1),o=Object(V.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(null),p=Object(V.a)(d,2),E=p[0],v=p[1],f=Object(n.useState)(""),b=Object(V.a)(f,2),g=b[0],h=b[1],y=Object(n.useState)(!1),O=Object(V.a)(y,2),j=O[0],N=O[1],C=function(e,a){null!==e&&(m(!1),N(!0),h(e),a&&c(w(t.userId)))};return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(se,{setModalVisible:m,setModalType:v,handleSnackMessage:C}),"servers"===a?r.a.createElement(ae,{setDrawerVisible:s,setModalVisible:m,setModalType:v,handleSnackMessage:C}):r.a.createElement(Y,null),r.a.createElement(P.a,{open:u,"aria-labelledby":"server create modal","aria-describedby":"create a server",className:"modal-wrapper",onClose:function(){return m(!1)}},r.a.createElement(fe,{handleSnackMessage:C,modalType:E})),r.a.createElement(L,{visible:j,setVisible:N,content:g}))}var ge=a(299),he=(a(186),a(145)),ye=a(138),Oe=a.n(ye);function je(e){var t=Object(l.c)(function(e){return e.chat}),a=t.activeServer,c=t.activeChannel,s=t.activeView,i=t.activePMUser,o=Object(l.c)(function(e){return e.user}).userName,u=Object(l.b)(),m=Object(n.useState)(""),d=Object(V.a)(m,2),p=d[0],E=d[1],v=Object(n.useState)(!1),f=Object(V.a)(v,2),b=f[0],g=f[1],O=Object(n.useState)(null),j=Object(V.a)(O,2),N=j[0],C=j[1];function S(e){(function(e){var t=!0;return""!==e.msg.trim()&&(t=!1),t})&&(e.msg=function(e){return console.log(e),e.replace(/(\r\n|\r|\n){3,}/g,"$1\n\n")}(e.msg),"servers"===s?u(h(e)):"home"===s&&u(y(e)),E(""))}return Object(n.useEffect)(function(){"servers"===s?C(c.split("-")[0]):"home"===s&&C(i)},[s,c,i]),window.onclick=function(e){String(e.target.className).includes("send-message-emoji-menu")&&g(!1)},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"send-message-border"}),r.a.createElement("div",{className:"send-message-container"},r.a.createElement(ge.a,{"aria-label":"empty textarea",placeholder:"Message  #".concat(N),className:"message-text-area",value:p,onChange:function(e){return function(e){"\n"!==e.target.value&&E(e.target.value)}(e)},onKeyPress:function(e){return function(e){"Enter"!==e.key||e.shiftKey||("servers"===s?S({server:a,channel:c,from:o,msg:p}):"home"===s&&S({from:o,to:i,msg:p}))}(e)}}),r.a.createElement(Oe.a,{className:"send-message-emoji-button",onClick:function(){return g(!b)}})),r.a.createElement("div",{className:b?"send-message-emoji-menu show":"send-message-emoji-menu hide"},r.a.createElement("div",{className:"emoji-wrapper"},r.a.createElement(he.a,{set:"emojione",onSelect:function(e){return function(e){E(p+e.native),g(!1)}(e)}}))))}var Ne=a(301),Ce=a(302),Se=a(139),xe=a.n(Se),ke=a(310),Ie=a(304),we=a(55),Ae=a(287),_e=a(300),Te=Object(_e.a)(function(e){return{card:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",width:250,background:"#2f3136"},cardHeader:{background:"#202225",width:"100%"},image:{marginTop:"1em",marginBottom:"8px"},cardInput:{padding:"1em"},input:{height:"38px"}}});function De(e){var t=Object(l.c)(function(e){return e.user}),a=Object(l.b)(),c=e.userName,s=e.setUserInfoVisible,i=Te(),o=Object(n.useState)(""),u=Object(V.a)(o,2),m=u[0],d=u[1];return r.a.createElement(ie.a,{className:i.card},r.a.createElement("div",{className:i.cardHeader},r.a.createElement("img",{src:"/React-Discord-Clone/user.png",alt:"user-icon",className:i.image}),r.a.createElement(J.a,{variant:"body1",gutterBottom:!0},c)),r.a.createElement("div",{className:i.cardInput},r.a.createElement(de.a,{id:"user-private-message",label:"Private message",placeholder:"Message @ ".concat(c),value:m,onChange:function(e){return d(e.target.value)},onKeyPress:function(e){return function(e,t){"Enter"===e.key&&t()}(e,function(){return function(e,n){var r={from:t.userName,msg:e,to:n};a(y(r)),a(k("home")),a(I(r.to)),s(!1)}(m,c)})},variant:"outlined",InputProps:{className:i.input},InputLabelProps:{shrink:!0}})))}function Me(){var e=Object(l.c)(function(e){return e.chat}).activeUserList,t=Object(n.useState)(!1),a=Object(V.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(null),o=Object(V.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(null),p=Object(V.a)(d,2),E=p[0],v=p[1];return r.a.createElement("div",{className:"user-list-container"},r.a.createElement(G.a,{className:"users-list"},r.a.createElement(H.a,{className:"users-list-title"}," Active Users "),e.map(function(e){return r.a.createElement(H.a,{button:!0,className:"user-list-item",onClick:function(t){return function(e,t){m(t),s(!0),v(e.currentTarget)}(t,e.user_name)}},r.a.createElement(W.a,{className:"message-user-icon"},r.a.createElement(B.a,null,r.a.createElement("img",{src:"/React-Discord-Clone/user.png",alt:"user icon",height:"48"}),r.a.createElement("div",{className:"user-list-online"}))),r.a.createElement(z.a,null,e.user_name))})),r.a.createElement(Ae.a,{id:"user-info",open:c,anchorEl:E,onClose:function(){s(!1),v(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(De,{userName:u,setUserInfoVisible:s})))}function Re(){var e=Object(l.c)(function(e){return e.chat}),t=e.activeChannel,a=e.activePMUser,c=e.activeView,s=Object(n.useState)(!1),i=Object(V.a)(s,2),o=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(V.a)(m,2),p=d[0],E=d[1],v=Object(n.useState)(null),f=Object(V.a)(v,2),b=f[0],g=f[1];return Object(n.useEffect)(function(){"servers"===c?g(t.split("-")[0].toLowerCase()):"home"===c&&g(a)},[c,a,t]),r.a.createElement(Ne.a,{position:"static",className:"appbar"},r.a.createElement(Ce.a,{className:"navbar"},r.a.createElement(Z.a,{edge:"start",color:"inherit","aria-label":"menu",className:"menu-burger-button",onClick:function(){return u(!0)}},r.a.createElement(xe.a,null)),r.a.createElement(ke.a,{anchor:"left",open:o,onClose:function(){return u(!1)},onOpen:function(){return u(!0)}},r.a.createElement(be,{setDrawerVisible:o})),r.a.createElement(ke.a,{anchor:"right",open:p,onClose:function(){return E(!1)},onOpen:function(){return E(!0)}},r.a.createElement(Me,{setDrawerVisible:E})),r.a.createElement(J.a,{variant:"h6"},b," "),r.a.createElement(Ie.a,{href:"https://github.com/ericellb/React-Discord-Clone",target:"_blank",style:{color:"white"}},r.a.createElement(Q.a,{title:"Check me out on Github!",className:"tooltip"},r.a.createElement(Z.a,null,r.a.createElement(we.a,null,r.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})))))))}var Ve=a(305),Pe=a(303),Ue=a(91),Le=a.n(Ue),Ge=a(140),He=a.n(Ge);function Ke(){var e,t,a=Object(l.c)(function(e){return e.chat}),c=a.activeServer,s=a.activeChannel,i=a.activeView,o=a.activePMUser,u=Object(n.useState)(!1),m=Object(V.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(12),v=Object(V.a)(E,2),f=v[0],b=v[1],g=Object(n.useState)(!1),h=Object(V.a)(g,2),y=h[0],O=h[1],j=Object(n.useState)(null),N=Object(V.a)(j,2),C=N[0],S=N[1],x=Object(n.useState)(null),k=Object(V.a)(x,2),I=k[0],w=k[1],A=null,_=null;"servers"===i?(A=a.servers[c].channels[s],_=A.length):(void 0===(A=a.privateMessages[o])&&(A=[]),_=A.length),Object(n.useEffect)(function(){y?(O(!1),t.scroll(0,56)):e.scrollIntoView({block:"end",behavior:"smooth"})},[e,t,y,A]);var T=function(e){return e.split("```")[1]},D=function(e,t){S(t),p(!0),w(e.currentTarget)};return r.a.createElement("div",{className:"messages-container",onScroll:function(e){return function(e){var t=e.target;t.scrollTop>100&&O(!1),0===t.scrollTop&&_>f&&setTimeout(function(){O(!0),b(f+12>_?_:f+12)},400)}(e)},ref:function(e){return t=e}},_>=f?r.a.createElement("div",{className:"progress-container"},r.a.createElement(Ve.a,{color:"primary"})):null,r.a.createElement(G.a,null,null!==A?A.slice(_-f,_).map(function(e,t){return r.a.createElement(Pe.a,{in:!0,timeout:500},r.a.createElement(H.a,{className:"message",key:t},r.a.createElement(W.a,{className:"message-user-icon"},r.a.createElement(B.a,null,r.a.createElement("img",{onClick:function(t){return D(t,e.from)},src:"/React-Discord-Clone/user.png",alt:"user icon",height:"48"}))),function(e){return!(!e.startsWith("```")||!e.endsWith("```"))}(e.msg)?r.a.createElement(z.a,{primary:r.a.createElement("div",{className:"message-user",onClick:function(t){return D(t,e.from)}},e.from.toLowerCase(),r.a.createElement("div",{className:"message-date"}," - ".concat(Le()(e.date).format("LLL")))),secondary:r.a.createElement(He.a,{codeString:T(e.msg)}),className:"message-text"}):r.a.createElement(z.a,{primary:r.a.createElement("div",{className:"message-user",onClick:function(t){return D(t,e.from)}},e.from.toLowerCase(),r.a.createElement("div",{className:"message-date"}," - ".concat(Le()(e.date).format("LLL")))),secondary:e.msg,className:"message-text"})))}):null),r.a.createElement("div",{ref:function(t){return e=t}}),r.a.createElement(Ae.a,{id:"user-info",open:d,anchorEl:I,onClose:function(){p(!1),w(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(De,{userName:C,setUserInfoVisible:p})))}function Be(){var e=Object(l.c)(function(e){return e.user}),t=Object(l.c)(function(e){return e.chat}).activeServer,a=Object(l.b)();Object(n.useEffect)(function(){e.isSignedIn?(a(w(e.userId)),c()):R.push("/")},[a,e.isSignedIn,e.userId]);var c=function e(){a(C),a(N(t)),setTimeout(e,3e5)};return r.a.createElement(D.a,null,r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"sidebar-grid"},r.a.createElement(be,null)),r.a.createElement("div",{className:"messages-grid"},r.a.createElement(Re,null),r.a.createElement(Ke,null)),r.a.createElement("div",{className:"user-list-grid"},r.a.createElement(Me,null)),r.a.createElement("div",{className:"send-messages-grid"},r.a.createElement(je,null))))}var Je=a(309),We=a(306);function ze(){var e=Object(l.b)(),t=Object(n.useState)(!0),a=Object(V.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)("left"),o=Object(V.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(!1),v=Object(V.a)(d,2),f=v[0],b=v[1],h=Object(n.useState)("left"),y=Object(V.a)(h,2),O=y[0],j=y[1],N=Object(n.useState)(!1),C=Object(V.a)(N,2),S=C[0],x=C[1],k=Object(n.useState)("left"),I=Object(V.a)(k,2),w=I[0],_=I[1],T=Object(n.useState)(""),D=Object(V.a)(T,2),M=D[0],P=D[1],U=Object(n.useState)(!1),L=Object(V.a)(U,2),G=L[0],H=L[1],B=Object(n.useState)(!1),W=Object(V.a)(B,2),z=W[0],Y=W[1],$=Object(n.useState)(""),q=Object(V.a)($,2),Q=q[0],ee=q[1],te=Object(n.useState)(!1),ae=Object(V.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(!1),se=Object(V.a)(ce,2),Ee=se[0],fe=se[1],be=Object(n.useState)(!1),ge=Object(V.a)(be,2),he=ge[0],ye=ge[1],Oe=function(){m("left"),s(!0),b(!1),j("right"),x(!1),_("right")},je=function(e,t){"Enter"===e.key&&t()},Ne=function(e,t,a){var n=!1;""===e?(H(!0),Y("Name cannot be empty"),n=!0):H(!1),t.length<6?(re(!0),fe("Passwords must be 6 characters"),n=!0):re(!1),n||a()},Ce=function(){var t=Object(E.a)(p.a.mark(function t(a,n){var r,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=encodeURIComponent(a),n=encodeURIComponent(n),t.next=5,g.post("/user/create?userName=".concat(a,"&userPass=").concat(n));case 5:r=t.sent,he&&localStorage.setItem("user",JSON.stringify(r.data)),e(A(r.data)),R.push("/dashboard"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),(c=t.t0.response.data)&&(H(!0),Y(c));case 15:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}(),Se=function(){var t=Object(E.a)(p.a.mark(function t(a,n){var r,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=encodeURIComponent(a),n=encodeURIComponent(n),t.prev=2,t.next=5,g.get("/user/login?userName=".concat(a,"&userPass=").concat(n));case 5:r=t.sent,he&&localStorage.setItem("user",JSON.stringify(r.data)),e(A(r.data)),R.push("/dashboard"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),(c=t.t0.response.data)&&(H(!0),Y(c),re(!0),fe(c));case 15:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"auth-wrapper"},r.a.createElement(pe.a,{className:"container-prompt"},r.a.createElement(K.a,{direction:u,in:c,timeout:350,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(le.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,sm:12,xs:12},r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Create an account, or sign in!")),r.a.createElement(le.a,{item:!0,sm:6,xs:12},r.a.createElement(ie.a,{className:"grid-card"},r.a.createElement(oe.a,{onClick:function(){return j("left"),m("right"),b(!0),void s(!1)}},r.a.createElement(ue.a,null,r.a.createElement(J.a,{variant:"h5",color:"primary",gutterBottom:!0},"Create"),r.a.createElement(J.a,{variant:"body1",paragraph:!0},"Create a new account."),r.a.createElement(me.a,null,r.a.createElement(ve.a,{className:"modal-card-icon"})),r.a.createElement(F.a,{variant:"contained",color:"primary"},"Create"))))),r.a.createElement(le.a,{item:!0,sm:6,xs:12},r.a.createElement(ie.a,{className:"grid-card"},r.a.createElement(oe.a,{onClick:function(){return _("left"),m("right"),x(!0),void s(!1)}},r.a.createElement(ue.a,null,r.a.createElement(J.a,{variant:"h5",color:"secondary",gutterBottom:!0},"Login"),r.a.createElement(J.a,{variant:"body1",paragraph:!0},"Sign in to an existing account."),r.a.createElement(me.a,null,r.a.createElement(X.a,{className:"modal-card-icon"})),r.a.createElement(F.a,{variant:"contained",color:"secondary"},"Login "))))))),r.a.createElement(K.a,{direction:O,in:f,timeout:350,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(le.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(Z.a,{onClick:Oe},r.a.createElement(We.a,null)),r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Create Account")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(de.a,{id:"username",label:"Username",values:M,error:G,helperText:z,onChange:function(e){return P(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return je(e,function(){return Ne(M,Q,function(){return Ce(M,Q)})})}})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(de.a,{id:"password",label:"Password",type:"password",values:Q,error:ne,helperText:Ee,onChange:function(e){return ee(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return je(e,function(){return Ne(M,Q,function(){return Ce(M,Q)})})}})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement("div",null,"Remember Me ",r.a.createElement(Je.a,{value:he,onChange:function(e){return ye(e.target.checked)}})),r.a.createElement(F.a,{variant:"contained",color:"primary",onClick:function(){return Ne(M,Q,function(){return Ce(M,Q)})}},"Create")))),r.a.createElement(K.a,{direction:w,in:S,timeout:350,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(le.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(Z.a,{onClick:Oe},r.a.createElement(We.a,null)),r.a.createElement(J.a,{variant:"h5",color:"primary",align:"center"},"Login Account")),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(de.a,{id:"username",label:"Username",values:M,error:G,helperText:z,onChange:function(e){return P(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return je(e,function(){return Ne(M,Q,function(){return Se(M,Q)})})}})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-textfield"},r.a.createElement(de.a,{id:"password",label:"Password",type:"password",values:Q,error:ne,helperText:Ee,onChange:function(e){return ee(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return je(e,function(){return Ne(M,Q,function(){return Se(M,Q)})})}})),r.a.createElement(le.a,{item:!0,xs:12,className:"grid-button"},r.a.createElement("div",null,"Remember Me ",r.a.createElement(Je.a,{vale:he,onChange:function(e){return ye(e.target.checked)}})),r.a.createElement(F.a,{className:"modal-login-button",variant:"contained",color:"primary",onClick:function(){return Ne(M,Q,function(){return Se(M,Q)})}},"Login"))))))}var Fe=function(){var e=Object(l.b)();return r.a.createElement(m.a,{theme:Xe},r.a.createElement(i.a,null,function(){var t=JSON.parse(localStorage.getItem("user"));t&&(e(A(t)),R.push("/dashboard"))}(),r.a.createElement(o.a,{path:"/dashboard",exact:!0,component:Be}),r.a.createElement(o.a,{path:"/",exact:!0,component:ze})))},Xe=Object(u.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"14px",backgroundColor:"black"}},MuiSnackbarContent:{root:{backgroundColor:"#202225",color:"white"}},MuiAppBar:{colorPrimary:{backgroundColor:"#36393E",position:"absolute"}}},palette:{type:"dark",primary:{main:"#7289da"},secondary:{main:"#3ca374"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600}}),Ye=a(39),$e=a(143),qe=a(144),Qe=a.n(qe);var Ze,et=a(31),tt=a(60),at=a(15),nt={servers:{"Default-FANfDprXmt":{channels:{"general-0m5vBsRnfd":[],"gaming-p9DnvvrfWo":[],"programming-aRoD4umYpb":[],"cooking-v88UngJkiD":[],"misc-uSje5DwUH0":[],"/b/-Ry06VYrX3x":[]}}},privateMessages:{},activeServer:"Default-FANfDprXmt",activeChannel:"general-0m5vBsRnfd",activeUserList:[],activeView:"servers",activePMUser:"none"},rt={isSignedIn:!1,isAdmin:!1,userId:null,userName:null},ct=Object(Ye.c)({chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var a=t.payload,n=a.server,r=a.channel,c=a.from,s=a.msg;return Object(at.a)({},e,{servers:Object(at.a)({},e.servers,Object(et.a)({},n,Object(at.a)({},e.servers[n],{channels:Object(at.a)({},e.servers[n].channels,Object(et.a)({},r,[].concat(Object(tt.a)(e.servers[n].channels[r]),[{from:c,msg:s}])))})))});case f:return e.privateMessages[t.payload.user]?Object(at.a)({},e,{privateMessages:Object(at.a)({},e.privateMessages,Object(et.a)({},t.payload.user,[].concat(Object(tt.a)(e.privateMessages[t.payload.user]),[{from:t.payload.from,to:t.payload.to,msg:t.payload.msg}])))}):Object(at.a)({},e,{privateMessages:Object(at.a)({},e.privateMessages,Object(et.a)({},t.payload.user,[{from:t.payload.from,to:t.payload.to,msg:t.payload.msg}]))});case"ADD_CHANNEL":return Object(at.a)({},e,{servers:Object(at.a)({},e.servers,Object(et.a)({},t.payload.server,Object(at.a)({},e.servers[t.payload.server],{channels:Object(at.a)({},e.servers[t.payload.server].channels,Object(et.a)({},t.payload.channel,[]))})))});case"ADD_SERVER":return Object(at.a)({},e,{servers:Object(at.a)({},e.servers,Object(et.a)({},t.payload.server,{channels:Object(et.a)({},t.payload.channel,[])}))});case"GET_INITIAL_DATA":return Object(at.a)({},e,{servers:t.payload.servers,privateMessages:t.payload.privateMessages,activeServer:"Default-FANfDprXmt",activeChannel:"gaming-p9DnvvrfWo"});case"CHANGE_SERVER":return Object(at.a)({},e,{activeServer:t.payload,activeChannel:Object.keys(e.servers[t.payload].channels)[0]});case"CHANGE_CHANNEL":return Object(at.a)({},e,{activeChannel:t.payload});case"CHANGE_VIEW":return Object(at.a)({},e,{activeView:t.payload,activePMUser:Object.keys(e.privateMessages)[0]});case"CHANGE_PM_USER":return Object(at.a)({},e,{activePMUser:t.payload});case"UPDATE_ACTIVE_USERS":return Object(at.a)({},e,{activeUserList:t.payload});default:return Object(at.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(at.a)({},e,{isSignedIn:!0,userId:t.payload.userId,userName:t.payload.userName});case"SIGN_OUT":return Object(at.a)({},e,{isSignedIn:!1,userId:null,userName:"anon"+Math.floor(100*Math.random(0))});default:return e}}}),st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ye.d,lt=Object(Ye.e)(ct,st(Object(Ye.a)($e.a,(Ze="https://simple-chat-apix.herokuapp.com",function(e){var t=Qe()(Ze);return function(a){return function(n){if("SEND_SOCKET_MESSAGE"!==n.type){if("SEND_SOCKET_PRIVATE_MESSAGE"!==n.type){if("SIGN_IN"===n.type&&(t.emit("simple-chat-sign-in",n.payload.userId),function(e,t){e.on("update",function(e){"message"===e.type?t.dispatch({type:v,payload:e.payload}):"private-message"===e.type&&t.dispatch({type:f,payload:e.payload})})}(t,e)),"GET_INITIAL_DATA"===n.type){var r=Object.keys(n.payload.servers),c=[];r.forEach(function(e,t){c[t]=r[t].split("-")[1]}),c.forEach(function(e){t.emit("subscribe",e)})}if("ADD_SERVER"===n.type){var s=n.payload.server.split("-")[1];t.emit("subscribe",s)}return"UPDATE_ACTIVE_STATE"===n.type&&t.emit("ping"),a(n)}t.emit("simple-chat-private-message",n.payload)}else t.emit("simple-chat-message",n.payload)}}}))));s.a.render(r.a.createElement(l.a,{store:lt},r.a.createElement(Fe,null)),document.getElementById("root"))}},[[155,1,2]]]);
//# sourceMappingURL=main.09780293.chunk.js.map