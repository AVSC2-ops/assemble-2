{"version":3,"sources":["components/Topics.jsx","components/Messages.jsx","actions/index.js","actions/types.js","components/SendMessage.jsx","components/Header.jsx","components/Dashboard.jsx","components/App.js","components/socketMiddleware.js","reducers/chatReducer.jsx","reducers/index.js","index.js"],"names":["Topics","props","topics","changeActiveTopic","react_default","a","createElement","className","List","map","topic","ListItem","onClick","e","target","innerText","key","button","Messages","messageContainer","chats","activeTopic","useEffect","scrollIntoView","message","i","Chip","avatar","Icon","label","from","msg","ref","element","sendMessage","type","payload","SendMessage","dispatch","useDispatch","chatMessage","changeChatMessage","user","background","class","TextField","color","id","value","onChange","Button","variant","Header","AppBar","position","Toolbar","IconButton","edge","aria-label","Menu_default","Typography","Math","ceil","random","Dashboard","chatStore","useSelector","state","chat","Object","keys","_React$useState","React","useState","_React$useState2","slicedToArray","_React$useState3","_React$useState4","theme","createMuiTheme","palette","primary","main","secondary","green","status","danger","App","baseUrl","ThemeProvider","initialState","general","react","sports","business","politics","combineReducers","arguments","length","undefined","action","objectSpread","defineProperty","concat","toConsumableArray","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","storeAPI","socket","io","on","next","emit","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.c5d8f9c4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\n\r\nexport default function Topics(props) {\r\n  const { topics, changeActiveTopic } = props;\r\n  return (\r\n    <div className=\"topics-flex-container\">\r\n      <List>\r\n        {topics.map(topic => (\r\n          <ListItem onClick={(e) => changeActiveTopic(e.target.innerText)} key={topic} button>{topic}</ListItem>\r\n        ))}\r\n      </List>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\n\r\nimport { Chip, Icon } from '@material-ui/core';\r\n\r\nexport default function Messages(props) {\r\n\r\n  let messageContainer;\r\n\r\n  const { chats, activeTopic } = props;\r\n  useEffect(() => {\r\n    // Keep scroll on bottom\r\n    messageContainer.scrollIntoView();\r\n  })\r\n\r\n  return (\r\n    <div className=\"messages-flex-container\">\r\n      <div className=\"messages-container\">\r\n        {chats[activeTopic].map((message, i) => (\r\n          <div className=\"message\" key={i}>\r\n            <Chip avatar={<Icon>person</Icon>} label={message.from + ' ' + message.msg} />\r\n          </div>\r\n        ))}\r\n        <div ref={(element) => messageContainer = element}></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { SEND_MESSAGE, UPDATE_CHAT } from './types';\r\n\r\nexport const sendMessage = (message) => ({\r\n  type: SEND_MESSAGE,\r\n  payload: message\r\n});\r\n\r\nexport const updateChat = (message) => ({\r\n  type: UPDATE_CHAT,\r\n  payload: message\r\n});","export const UPDATE_CHAT = 'UPDATE_CHAT';\r\nexport const SEND_MESSAGE = 'SEND_MESSAGE';","import React from 'react'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { sendMessage } from '../actions';\r\n\r\nexport default function SendMessage(props) {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { chatMessage, changeChatMessage, activeTopic, user } = props;\r\n  return (\r\n    <div background className=\"send-message-flex-container\">\r\n      <div class=\"send-message-container\">\r\n        <TextField\r\n          color=\"blue\"\r\n          id=\"filled-name\"\r\n          className=\"message-box\"\r\n          label=\"Type a message...\"\r\n          value={chatMessage}\r\n          onChange={(e) => changeChatMessage(e.target.value)}\r\n        />\r\n        <Button color=\"primary\" variant=\"contained\" className=\"message-button\" onClick={() => { dispatch(sendMessage({ topic: activeTopic, from: user, msg: chatMessage })); changeChatMessage(''); }}>Send</Button>\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\nexport default function Header(props) {\r\n  const { activeTopic } = props;\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar className=\"app-header\">\r\n        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Typography variant=\"h6\">\r\n          {activeTopic}\r\n        </Typography>\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Topics from './Topics';\r\nimport Messages from './Messages';\r\nimport SendMessage from './SendMessage.jsx';\r\nimport Header from './Header';\r\n\r\nconst user = 'eric' + Math.ceil(Math.random() * 100);\r\n\r\nexport default function Dashboard() {\r\n\r\n  const chatStore = useSelector(state => state.chat);\r\n  const topics = Object.keys(chatStore);\r\n\r\n  // Local state\r\n  const [chatMessage, changeChatMessage] = React.useState('');\r\n  const [activeTopic, changeActiveTopic] = React.useState(topics[0]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"main-container\">\r\n        <Header activeTopic={activeTopic} />\r\n        <Topics topics={topics} changeActiveTopic={changeActiveTopic} />\r\n        <Messages chats={chatStore} activeTopic={activeTopic} />\r\n        <SendMessage chatMessage={chatMessage} changeChatMessage={changeChatMessage} user={user} activeTopic={activeTopic} />\r\n      </div >\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport Dashboard from './Dashboard';\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { ThemeProvider } from '@material-ui/styles';\nimport green from '@material-ui/core/colors/green';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#7289da'\n    },\n    secondary: green,\n  },\n  status: {\n    danger: 'orange',\n  },\n});\n\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Dashboard></Dashboard>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import io from 'socket.io-client';\r\n\r\nimport { SEND_MESSAGE, UPDATE_CHAT } from '../actions/types';\r\n\r\nexport const socketMiddleware = (baseUrl) => {\r\n  return storeAPI => {\r\n    let socket = io(baseUrl);\r\n\r\n    socket.on(\"simple-chat\", (message) => {\r\n      storeAPI.dispatch({\r\n        type: UPDATE_CHAT,\r\n        payload: message\r\n      });\r\n    });\r\n\r\n    return next => action => {\r\n      if (action.type === SEND_MESSAGE) {\r\n        socket.emit('simple-chat', action.payload);\r\n        return;\r\n      }\r\n\r\n      return next(action);\r\n    }\r\n  }\r\n}","const initialState = {\r\n  general: [\r\n  ],\r\n  react: [\r\n  ],\r\n  sports: [\r\n  ],\r\n  business: [\r\n  ],\r\n  politics: [\r\n  ],\r\n}\r\n\r\nexport const chatReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_CHAT':\r\n      return {\r\n        ...state,\r\n        [action.payload.topic]: [\r\n          ...state[action.payload.topic], { from: action.payload.from, msg: action.payload.msg }\r\n        ]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { chatReducer } from './chatReducer';\r\nimport { combineReducers } from 'redux';\r\n\r\nexport default combineReducers({\r\n  chat: chatReducer\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { socketMiddleware } from './components/socketMiddleware';\n\nimport reducers from './reducers'\n\n\nconst baseUrl = (process.env.NODE_ENV === 'development' ? 'http://localhost:3001' : 'https://simple-chat-apix.herokuapp.com/');\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk, socketMiddleware(baseUrl))));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n"],"sourceRoot":""}