(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,a,t){e.exports=t(181)},149:function(e,a,t){},178:function(e,a){},181:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),i=t.n(c),l=t(114),o=t(238),s=t(23),u=t.n(s),m=t(31),d=t(32),v=t.n(d),p=function(e){return{type:"SEND_MESSAGE",payload:e}},E=function(e){return{type:"CHANGE_SERVER",payload:{server:e}}},f=function(e){return{type:"CHANGE_TOPIC",payload:e}},b=function(e){return function(){var a=Object(m.a)(u.a.mark(function a(t){var n,r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n="".concat("https://simple-chat-apix.herokuapp.com","/user?userId=").concat(e),a.next=3,v.a.get(n);case 3:r=a.sent,t({type:"GET_INITIAL_DATA",payload:r.data});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},g=function(e){return function(){var a=Object(m.a)(u.a.mark(function a(t){var n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n="".concat("https://simple-chat-apix.herokuapp.com","/user?userId=").concat(e.userId,"&userName=").concat(e.userName),v.a.post(n)&&t({type:"SIGN_IN",payload:e});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},h=function(e){return{type:"SIGN_OUT",payload:e}},O=t(10),j=(t(149),t(13)),y=t(240),N=t(217),S=t(218),I=t(211),C=t(243),k=t(215);function w(e){var a=Object(O.c)(function(e){return e.chat}),t=Object.keys(a.servers),n=Object(O.c)(function(e){return e.user}),c=Object(O.b)(),i=e.setDrawerVisible,l=e.setModalVisible,o=e.setModalType;return r.a.createElement("div",{className:"servers-container"},r.a.createElement(I.a,null,t.map(function(e){return r.a.createElement(C.a,{title:e.split("-")[0],key:e,placement:"right",className:"tooltip"},r.a.createElement(k.a,{className:"server-icon",onClick:function(){return function(e){c(E(e)),"undefined"!==typeof i&&i(!1)}(e)}},r.a.createElement(N.a,null)))}),n.isSignedIn?r.a.createElement(C.a,{title:"Create Server",key:"create-server",placement:"right",className:"tooltip"},r.a.createElement(k.a,{className:"server-icon",onClick:function(){return o("server"),void l(!0)}},r.a.createElement(S.a,null))):null))}var T=t(220),x=t(225),_=t(182),A=t(115),M=t(221),V=t(222),D=t(59),G=t(223),L=t(224),H=t(226),J=t(227),P=t(219);function R(){var e=Object(O.c)(function(e){return e.user}),a=Object(O.b)(),t=Object(n.useRef)();function c(e){"login"===e?t.current.signIn():t.current.signOut()}function i(e){if(e){var n=t.current.currentUser.get().getBasicProfile(),r=n.Eea,c=n.ig,i=n.U3;a(g({userId:r,userName:c,userEmail:i}))}else a(h(t.current.currentUser.get().getId()))}return Object(n.useEffect)(function(){window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"607332079220-hhs6rhoaq44p29150j4thfdgoj7c5k59.apps.googleusercontent.com",scope:"email"}).then(function(){t.current=window.gapi.auth2.getAuthInstance(),i(t.current.isSignedIn.get()),t.current.isSignedIn.listen(function(){i(t.current.isSignedIn.get())})})})},[]),r.a.createElement("div",null,e.isSignedIn?r.a.createElement(P.a,{onClick:function(){return c("logout")}},"Sign Out"):r.a.createElement(P.a,{onClick:function(){return c("login")}},"Sign In"))}function U(e){var a=Object(O.c)(function(e){return e.chat}),t=Object.keys(a.servers[a.activeServer]),c=a.activeServer,i=Object(O.b)(),l=Object(O.c)(function(e){return e.user}),o=e.setDrawerVisible,s=e.setModalVisible,u=e.setModalType,m=Object(n.useState)(null),d=Object(j.a)(m,2),v=d[0],p=d[1],E=function(){p(null)};return r.a.createElement("div",{className:"topics-container"},r.a.createElement(I.a,{className:"topic-list"},r.a.createElement(_.a,{className:"title-container"},c.split("-")[0],l.isSignedIn?r.a.createElement(C.a,{title:"Server Settings",key:"server-settings",placement:"right",className:"tooltip"},r.a.createElement(k.a,{onClick:function(e){p(e.currentTarget)}}," ",r.a.createElement(T.a,null)," ")):null,r.a.createElement(A.a,{id:"settings-menu",anchorEl:v,open:Boolean(v),onClick:E,onClose:E},r.a.createElement(M.a,null," Server Id - ",c.split("-")[1]," "),r.a.createElement(M.a,{onClick:function(){return u("channel"),void s(!0)}}," Add Channel "))),t.map(function(e,a){return r.a.createElement(V.a,{direction:"right",in:!0,timeout:200*(a+1),key:e+c},r.a.createElement(_.a,{onClick:function(a){return function(e){i(f(e)),"undefined"!==typeof o&&o(!1)}(e)},button:!0},r.a.createElement("i",{className:"topic-hashtag"},"#"),r.a.createElement(D.a,{variant:"body1"},e.split("-")[0].toLowerCase())))})),r.a.createElement("div",{className:"user-options"},r.a.createElement(_.a,{className:"user-info"},r.a.createElement(G.a,null,r.a.createElement(L.a,null,r.a.createElement(x.a,null))),r.a.createElement(H.a,{primary:l.userName}),r.a.createElement(J.a,null,r.a.createElement(R,null)))))}var B=t(228),W=t(229),z=t(230),F=t(231),K=t(239),X=t(117),q=t(232),Q=t(233);function Y(e){var a=Object(O.c)(function(e){return e.user}).userId,t=Object(O.c)(function(e){return e.chat}).activeServer,c=e.handleModalSuccess,i=e.modalType,l="https://simple-chat-apix.herokuapp.com",o=Object(n.useState)(!0),s=Object(j.a)(o,2),d=s[0],p=s[1],E=Object(n.useState)("left"),f=Object(j.a)(E,2),b=f[0],g=f[1],h=Object(n.useState)(!1),y=Object(j.a)(h,2),N=y[0],S=y[1],I=Object(n.useState)("left"),C=Object(j.a)(I,2),k=C[0],w=C[1],T=Object(n.useState)(!1),x=Object(j.a)(T,2),_=x[0],A=x[1],M=Object(n.useState)("left"),G=Object(j.a)(M,2),L=G[0],H=G[1],J=Object(n.useState)(""),R=Object(j.a)(J,2),U=R[0],Y=R[1],Z=Object(n.useState)(""),$=Object(j.a)(Z,2),ee=$[0],ae=$[1],te=Object(n.useState)(""),ne=Object(j.a)(te,2),re=ne[0],ce=ne[1],ie=function(){var e=Object(m.a)(u.a.mark(function e(a,t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(l,"/server/create?serverName=").concat(a,"&userId=").concat(t));case 2:(n=e.sent)&&c(n.data);case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(u.a.mark(function e(a,t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(l,"/server/join?serverId=").concat(a,"&userId=").concat(t));case 2:(n=e.sent)&&c(n.data);case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(l,"/channel/create?channelName=").concat(t,"&serverId=").concat(n,"&userId=").concat(a));case 2:(r=e.sent)&&c(r.data);case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();return"server"===i?r.a.createElement(X.a,{className:"modal-container"},r.a.createElement(V.a,{direction:b,in:d,timeout:500,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"modal-main"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(D.a,{variant:"h5",color:"primary",align:"center"},"Another server? Wow you're popular!")),r.a.createElement("div",{className:"modal-create-server modal-flex"},r.a.createElement(B.a,null,r.a.createElement(W.a,{onClick:function(){return g("right"),H("left"),S(!0),void p(!1)}},r.a.createElement(z.a,null,r.a.createElement(D.a,{variant:"h5",color:"primary",gutterBottom:!0},"Create"),r.a.createElement(D.a,{variant:"body1",paragraph:!0},"Create a server and invite all your buddies."),r.a.createElement(F.a,null,r.a.createElement(q.a,{className:"modal-card-icon"})),r.a.createElement(P.a,{variant:"contained",color:"primary"},"Join a server"))))),r.a.createElement("div",{className:"modal-join-server modal-flex"},r.a.createElement(B.a,null,r.a.createElement(W.a,{onClick:function(){return g("right"),w("left"),A(!0),void p(!1)}},r.a.createElement(z.a,null,r.a.createElement(D.a,{variant:"h5",color:"secondary",gutterBottom:!0},"Join"),r.a.createElement(D.a,{variant:"body1",paragraph:!0},"Join a friends server and pwn some noobs!"),r.a.createElement(F.a,null,r.a.createElement(Q.a,{className:"modal-card-icon"})),r.a.createElement(P.a,{variant:"contained",color:"secondary"},"Join a server"))))))),r.a.createElement(V.a,{direction:k,in:N,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(D.a,{variant:"h5",color:"primary",align:"center"},"Create a Server!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(D.a,{variant:"body1",paragraph:!0}," Enter a Server Name to create a server and get access to unlimited chat channels! "),r.a.createElement(K.a,{id:"create-server-field",label:"Server Name",value:U,onChange:function(e){return Y(e.target.value)},margin:"dense",variant:"outlined"}),r.a.createElement(P.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return ie(U,a)}},"Create Server")))),r.a.createElement(V.a,{direction:L,in:_,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(D.a,{variant:"h5",color:"primary",align:"center"},"Join a Server!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(D.a,{variant:"body1",paragraph:!0}," Enter a the Server Id provided by your friend and start chatting right now!  "),r.a.createElement(K.a,{id:"join-server-field",label:"Server Id",value:ee,onChange:function(e){return ae(e.target.value)},margin:"dense",variant:"outlined"}),r.a.createElement(P.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return le(ee,a)}},"Join Server"))))):"channel"===i?r.a.createElement(X.a,{className:"modal-container"},r.a.createElement(V.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(D.a,{variant:"h5",color:"primary",align:"center"},"Create a Channel!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(D.a,{variant:"body1",paragraph:!0}," Enter a Channel Name for your new channel and start chatting right now!  "),r.a.createElement(K.a,{id:"create-channel-field",label:"Channel Name",value:re,onChange:function(e){return ce(e.target.value)},margin:"dense",variant:"outlined"}),r.a.createElement(P.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return oe(re,t.split("-")[1])}},"Create Channel"))))):void 0}var Z=t(242);function $(e){var a=e.content,t=e.visible,n=e.setVisible;return r.a.createElement(Z.a,{open:t,message:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},onEntered:function(){setTimeout(function(){n(!1)},2500)}})}function ee(e){var a=Object(O.c)(function(e){return e.user}),t=Object(O.b)(),c=e.setDrawerVisible,i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],s=l[1],u=Object(n.useState)(null),m=Object(j.a)(u,2),d=m[0],v=m[1],p=Object(n.useState)(""),E=Object(j.a)(p,2),f=E[0],g=E[1],h=Object(n.useState)(!1),N=Object(j.a)(h,2),S=N[0],I=N[1];return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(w,{setDrawerVisible:c,setModalVisible:s,setModalType:v}),r.a.createElement(U,{setDrawerVisible:c,setModalVisible:s,setModalType:v}),r.a.createElement(y.a,{open:o,"aria-labelledby":"server create modal","aria-describedby":"create a server",className:"modal-wrapper",onClose:function(){return s(!1)}},r.a.createElement(Y,{handleModalSuccess:function(e){console.log(e),null!==e&&(s(!1),I(!0),g(e),t(b(a.userId)))},modalType:d})),r.a.createElement($,{visible:S,setVisible:I,content:f}))}var ae=t(235);function te(){var e,a=Object(O.c)(function(e){return e.chat}),t=a.activeServer,c=a.activeTopic;return Object(n.useEffect)(function(){e.scrollIntoView()}),r.a.createElement("div",{className:"messages-container"},r.a.createElement(I.a,null,a.servers[t][c].map(function(e,a){return null!==e.msg?r.a.createElement(ae.a,{in:!0,timeout:500},r.a.createElement(_.a,{className:"message",key:a},r.a.createElement(G.a,null,r.a.createElement(L.a,null,r.a.createElement("img",{src:"/Simple-Chat/user.png",alt:"user icon",height:"48"}))),r.a.createElement(H.a,{primary:e.from,secondary:e.msg,className:"message-text"}))):null})),r.a.createElement("div",{ref:function(a){return e=a}}))}var ne=t(234),re=(t(150),t(113)),ce=t(109),ie=t.n(ce);function le(e){var a=Object(O.c)(function(e){return e.chat}),t=a.activeServer,c=a.activeTopic,i=Object(O.c)(function(e){return e.user}).userName,l=Object(O.b)(),o=Object(n.useState)(""),s=Object(j.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),v=Object(j.a)(d,2),E=v[0],f=v[1];function b(e){"Enter"!==e.key||e.shiftKey||(l(p({server:t,topic:c,from:i,msg:u})),m(""))}return window.onclick=function(e){String(e.target.className).includes("send-message-emoji-menu")&&f(!1)},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"send-message-border"}),r.a.createElement("div",{className:"send-message-container"},r.a.createElement(ne.a,{"aria-label":"empty textarea",placeholder:"Message  #".concat(c.split("-")[0]),className:"message-text-area",value:u,onChange:function(e){return function(e){"\n"!==e.target.value&&m(e.target.value)}(e)},onKeyPress:function(e){return b(e)}}),r.a.createElement(ie.a,{className:"send-message-emoji-button",onClick:function(){return f(!E)}})),r.a.createElement("div",{className:E?"send-message-emoji-menu show":"send-message-emoji-menu hide"},r.a.createElement("div",{className:"emoji-wrapper"},r.a.createElement(re.a,{set:"emojione",onSelect:function(e){return function(e){m(u+e.native),f(!1)}(e)}}))))}var oe=t(236),se=t(237),ue=t(110),me=t.n(ue),de=t(241);function ve(e){var a=Object(O.c)(function(e){return e.chat}),t=Object.keys(a.servers),c=Object.keys(a.servers[a.activeServer]),i=a.activeTopic,l=Object(n.useState)(!1),o=Object(j.a)(l,2),s=o[0],u=o[1];return r.a.createElement(oe.a,{position:"static"},r.a.createElement(se.a,{className:"navbar"},r.a.createElement(k.a,{edge:"start",color:"inherit","aria-label":"menu",className:"menu-burger-button",onClick:function(){return u(!0)}},r.a.createElement(me.a,null)),r.a.createElement(de.a,{anchor:"left",open:s,onClose:function(){return u(!1)},onOpen:function(){return null}},r.a.createElement(ee,{topics:c,servers:t,setDrawerVisible:u})),r.a.createElement("i",{className:"topic-hashtag"},"#"),r.a.createElement(D.a,{variant:"h6"}," ",i.split("-")[0].toLowerCase()," ")))}var pe,Ee=function(){var e=Object(O.c)(function(e){return e.user}),a=Object(O.b)();return Object(n.useEffect)(function(){e.isSignedIn&&a(b(e.userId))},[a,e.isSignedIn,e.userId]),r.a.createElement(o.a,{theme:fe},r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"sidebar-grid"},r.a.createElement(ee,null)),r.a.createElement("div",{className:"messages-grid"},r.a.createElement(ve,null),r.a.createElement(te,null)),r.a.createElement("div",{className:"send-messages-grid"},r.a.createElement(le,null))))},fe=Object(l.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"16px",backgroundColor:"black"}},MuiSnackbarContent:{root:{backgroundColor:"#202225",color:"white"}},MuiAppBar:{colorPrimary:{backgroundColor:"#36393E",position:"absolute"}}},palette:{type:"dark",primary:{main:"#7289da"},secondary:{main:"#3ca374"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600}}),be=t(29),ge=t(111),he=t(112),Oe=t.n(he),je=t(40),ye=t(58),Ne=t(24),Se={servers:{"programming haven":{general:[]},"game land":{HOTS:[]}},activeServer:"programming haven",activeTopic:"general"},Ie={isSignedIn:!1,isAdmin:!1,userId:null,userName:"anon"+Math.floor(100*Math.random(0)),userEmail:null},Ce=Object(be.c)({chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_CHAT":var t=a.payload,n=t.server,r=t.topic,c=t.from,i=t.msg;return Object(Ne.a)({},e,{servers:Object(Ne.a)({},e.servers,Object(je.a)({},n,Object(Ne.a)({},e.servers[n],Object(je.a)({},r,[].concat(Object(ye.a)(e.servers[n][r]),[{from:c,msg:i}])))))});case"GET_INITIAL_DATA":return Object(Ne.a)({},e,{servers:a.payload,activeServer:Object.keys(a.payload)[0],activeTopic:Object.keys(a.payload[Object.keys(a.payload)[0]])[0]});case"CHANGE_SERVER":return Object(Ne.a)({},e,{activeServer:a.payload.server,activeTopic:Object.keys(e.servers[a.payload.server])[0]});case"CHANGE_TOPIC":return Object(Ne.a)({},e,{activeTopic:a.payload});default:return Object(Ne.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_IN":return console.log(a),Object(Ne.a)({},e,{isSignedIn:!0,userId:a.payload.userId,userName:a.payload.userName,userEmail:a.payload.userEmail});case"SIGN_OUT":return Object(Ne.a)({},e,{isSignedIn:!1,userId:null,userName:"anon"+Math.floor(100*Math.random(0))});default:return e}}}),ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d,we=Object(be.e)(Ce,ke(Object(be.a)(ge.a,(pe="https://simple-chat-apix.herokuapp.com",function(e){var a=Oe()(pe);return a.on("simple-chat",function(a){e.dispatch({type:"UPDATE_CHAT",payload:a})}),function(e){return function(t){if("SEND_MESSAGE"!==t.type)return e(t);a.emit("simple-chat",t.payload)}}}))));i.a.render(r.a.createElement(O.a,{store:we},r.a.createElement(Ee,null)),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.2467102a.chunk.js.map