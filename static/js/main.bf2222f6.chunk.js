(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,a,t){e.exports=t(180)},148:function(e,a,t){},177:function(e,a){},180:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),i=t.n(c),l=t(113),o=t(234),s=t(25),u=t.n(s),m=t(36),d=t(37),v=t.n(d),p=function(e){return{type:"SEND_MESSAGE",payload:e}},E=function(e){return{type:"CHANGE_SERVER",payload:{server:e}}},f=function(e){return{type:"CHANGE_TOPIC",payload:e}},b=function(e){return function(){var a=Object(m.a)(u.a.mark(function a(t){var n,r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n="".concat("https://simple-chat-apix.herokuapp.com/","/user?userId=").concat(e),a.next=3,v.a.get(n);case 3:r=a.sent,t({type:"GET_INITIAL_DATA",payload:r.data});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},g=function(e){return function(){var a=Object(m.a)(u.a.mark(function a(t){var n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n="".concat("https://simple-chat-apix.herokuapp.com/","/user?userId=").concat(e.userId,"&userName=").concat(e.userName),v.a.post(n)&&t({type:"SIGN_IN",payload:e});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},h=function(e){return{type:"SIGN_OUT",payload:e}},O=t(10),j=(t(148),t(14)),y=t(223),N=t(224),S=t(221),I=t(239),k=t(222),w=t(236),C=t(208),T=t(59),x=t(210),_=t(211),A=t(213),D=t(214),M=t(216),G=t(235),V=t(115),H=t(215),J=t(217);function L(e){var a=Object(O.c)(function(e){return e.user}).userId,t=e.handleModalSuccess,c="https://simple-chat-apix.herokuapp.com/",i=Object(n.useState)(!0),l=Object(j.a)(i,2),o=l[0],s=l[1],d=Object(n.useState)("left"),p=Object(j.a)(d,2),E=p[0],f=p[1],b=Object(n.useState)(!1),g=Object(j.a)(b,2),h=g[0],y=g[1],N=Object(n.useState)("left"),S=Object(j.a)(N,2),I=S[0],k=S[1],w=Object(n.useState)(!1),L=Object(j.a)(w,2),P=L[0],R=L[1],U=Object(n.useState)("left"),B=Object(j.a)(U,2),W=B[0],z=B[1],F=Object(n.useState)(""),K=Object(j.a)(F,2),X=K[0],q=K[1],Q=Object(n.useState)(""),Y=Object(j.a)(Q,2),Z=Y[0],$=Y[1],ee=function(){var e=Object(m.a)(u.a.mark(function e(a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(c,"/server/create?serverName=").concat(a,"&userId=").concat(n));case 2:(r=e.sent)&&t(r.data);case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(u.a.mark(function e(a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(c,"/server/join?serverId=").concat(a,"&userId=").concat(n));case 2:(r=e.sent)&&t(r.data);case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(V.a,{className:"modal-container"},r.a.createElement(C.a,{direction:E,in:o,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"modal-main"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(T.a,{variant:"h5",color:"primary",align:"center"},"Another server? Wow you're popular!")),r.a.createElement("div",{className:"modal-create-server modal-flex"},r.a.createElement(x.a,null,r.a.createElement(_.a,{onClick:function(){return f("right"),z("left"),y(!0),void s(!1)}},r.a.createElement(A.a,null,r.a.createElement(T.a,{variant:"h5",color:"primary",gutterBottom:!0},"Create"),r.a.createElement(T.a,{variant:"body1",paragraph:!0},"Create a server and invite all your buddies."),r.a.createElement(D.a,null,r.a.createElement(H.a,{className:"modal-card-icon"})),r.a.createElement(M.a,{variant:"contained",color:"primary"},"Join a server"))))),r.a.createElement("div",{className:"modal-join-server modal-flex"},r.a.createElement(x.a,null,r.a.createElement(_.a,{onClick:function(){return f("right"),k("left"),R(!0),void s(!1)}},r.a.createElement(A.a,null,r.a.createElement(T.a,{variant:"h5",color:"secondary",gutterBottom:!0},"Join"),r.a.createElement(T.a,{variant:"body1",paragraph:!0},"Join a friends server and pwn some noobs!"),r.a.createElement(D.a,null,r.a.createElement(J.a,{className:"modal-card-icon"})),r.a.createElement(M.a,{variant:"contained",color:"secondary"},"Join a server"))))))),r.a.createElement(C.a,{direction:I,in:h,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(T.a,{variant:"h5",color:"primary",align:"center"},"Create a Server!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(T.a,{variant:"body1",paragraph:!0}," Enter a Server Name to create a server and get access to unlimited chat channels! "),r.a.createElement(G.a,{id:"create-server-field",label:"Server Name",value:X,onChange:function(e){return q(e.target.value)},margin:"dense",variant:"outlined"}),r.a.createElement(M.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return ee(X,a)}},"Create Server")))),r.a.createElement(C.a,{direction:W,in:P,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(T.a,{variant:"h5",color:"primary",align:"center"},"Join a Server!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(T.a,{variant:"body1",paragraph:!0}," Enter a the Server Id provided by your friend and start chatting right now!  "),r.a.createElement(G.a,{id:"join-server-field",label:"Server Id",value:Z,onChange:function(e){return $(e.target.value)},margin:"dense",variant:"outlined"}),r.a.createElement(M.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return ae(Z,a)}},"Join Server")))))}var P=t(238);function R(e){var a=e.content,t=e.visible,n=e.setVisible;return r.a.createElement(P.a,{open:t,message:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},onEntered:function(){setTimeout(function(){n(!1)},2500)}})}function U(e){var a=Object(O.c)(function(e){return e.chat}),t=Object.keys(a.servers),c=Object(O.c)(function(e){return e.user}),i=Object(O.b)(),l=Object(n.useState)(!1),o=Object(j.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(""),d=Object(j.a)(m,2),v=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(j.a)(f,2),h=g[0],C=g[1],T=e.setDrawerVisible;return r.a.createElement("div",{className:"servers-container"},r.a.createElement(S.a,null,t.map(function(e){return r.a.createElement(I.a,{title:e.split("-")[0],key:e,placement:"right",className:"tooltip"},r.a.createElement(k.a,{className:"server-icon",onClick:function(){return function(e){i(E(e)),"undefined"!==typeof T&&T(!1)}(e)}},r.a.createElement(y.a,null)))}),r.a.createElement(I.a,{title:"Create Server",key:"create-server",placement:"right",className:"tooltip"},r.a.createElement(k.a,{className:"server-icon",onClick:function(){return u(!0)}},r.a.createElement(N.a,null)))),r.a.createElement(w.a,{open:s,"aria-labelledby":"server create modal","aria-describedby":"create a server",className:"modal-wrapper",onClose:function(){return u(!1)}},r.a.createElement(L,{handleModalSuccess:function(e){console.log(e),null!==e&&(u(!1),C(!0),p(e),i(b(c.userId)))}})),r.a.createElement(R,{visible:h,setVisible:C,content:v}))}var B=t(226),W=t(229),z=t(225),F=t(227),K=t(228),X=t(230),q=t(231);function Q(){var e=Object(O.c)(function(e){return e.user}),a=Object(O.b)(),t=Object(n.useRef)();function c(e){"login"===e?t.current.signIn():t.current.signOut()}function i(e){if(e){var n=t.current.currentUser.get().getBasicProfile(),r=n.Eea,c=n.ig,i=n.U3;a(g({userId:r,userName:c,userEmail:i}))}else a(h(t.current.currentUser.get().getId()))}return Object(n.useEffect)(function(){window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"607332079220-hhs6rhoaq44p29150j4thfdgoj7c5k59.apps.googleusercontent.com",scope:"email"}).then(function(){t.current=window.gapi.auth2.getAuthInstance(),i(t.current.isSignedIn.get()),t.current.isSignedIn.listen(function(){i(t.current.isSignedIn.get())})})})},[]),r.a.createElement("div",null,e.isSignedIn?r.a.createElement(M.a,{onClick:function(){return c("logout")}},"Sign Out"):r.a.createElement(M.a,{onClick:function(){return c("login")}},"Sign In"))}function Y(e){var a=Object(O.c)(function(e){return e.chat}),t=Object.keys(a.servers[a.activeServer]),n=a.activeServer,c=Object(O.b)(),i=Object(O.c)(function(e){return e.user}),l=e.setDrawerVisible;return r.a.createElement("div",{className:"topics-container"},r.a.createElement(S.a,{className:"topic-list"},r.a.createElement(z.a,{className:"title-container"},n.split("-")[0],r.a.createElement(I.a,{title:"Add channel",key:"add-channel",placement:"right",className:"tooltip"},r.a.createElement(k.a,{className:"topic-icon"},r.a.createElement(B.a,null)))),t.map(function(e){return r.a.createElement(z.a,{onClick:function(a){return function(e){c(f(e)),"undefined"!==typeof l&&l(!1)}(e)},key:e,button:!0},r.a.createElement("i",{className:"topic-hashtag"},"#"),r.a.createElement(T.a,{variant:"body1"},e.split("-")[0].toLowerCase()))})),r.a.createElement("div",{className:"user-options"},r.a.createElement(z.a,{className:"user-info"},r.a.createElement(F.a,null,r.a.createElement(K.a,null,r.a.createElement(W.a,null))),r.a.createElement(X.a,{primary:i.userName}),r.a.createElement(q.a,null,r.a.createElement(Q,null)))))}function Z(e){var a=e.setDrawerVisible;return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(U,{setDrawerVisible:a}),r.a.createElement(Y,{setDrawerVisible:a}))}function $(){var e,a=Object(O.c)(function(e){return e.chat}),t=a.activeServer,c=a.activeTopic;return Object(n.useEffect)(function(){e.scrollIntoView()}),r.a.createElement("div",{className:"messages-container"},r.a.createElement(S.a,null,a.servers[t][c].map(function(e,a){return null!==e.msg?r.a.createElement(z.a,{className:"message",key:a},r.a.createElement(F.a,null,r.a.createElement(K.a,null,r.a.createElement("img",{src:"/Simple-Chat/user.png",alt:"user icon",height:"48"}))),r.a.createElement(X.a,{primary:e.from,secondary:e.msg,className:"message-text"})):null})),r.a.createElement("div",{ref:function(a){return e=a}}))}var ee=t(218),ae=(t(149),t(112)),te=t(108),ne=t.n(te);function re(e){var a=Object(O.c)(function(e){return e.chat}),t=a.activeServer,c=a.activeTopic,i=Object(O.c)(function(e){return e.user}).userName,l=Object(O.b)(),o=Object(n.useState)(""),s=Object(j.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),v=Object(j.a)(d,2),E=v[0],f=v[1];function b(e){"Enter"!==e.key||e.shiftKey||(l(p({server:t,topic:c,from:i,msg:u})),m(""))}return window.onclick=function(e){String(e.target.className).includes("send-message-emoji-menu")&&f(!1)},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"send-message-border"}),r.a.createElement("div",{className:"send-message-container"},r.a.createElement(ee.a,{"aria-label":"empty textarea",placeholder:"Message  #".concat(c),className:"message-text-area",value:u,onChange:function(e){return function(e){"\n"!==e.target.value&&m(e.target.value)}(e)},onKeyPress:function(e){return b(e)}}),r.a.createElement(ne.a,{className:"send-message-emoji-button",onClick:function(){return f(!E)}})),r.a.createElement("div",{className:E?"send-message-emoji-menu show":"send-message-emoji-menu hide"},r.a.createElement("div",{className:"emoji-wrapper"},r.a.createElement(ae.a,{set:"emojione",onSelect:function(e){return function(e){m(u+e.native),f(!1)}(e)}}))))}var ce=t(232),ie=t(233),le=t(109),oe=t.n(le),se=t(237);function ue(e){var a=Object(O.c)(function(e){return e.chat}),t=Object.keys(a.servers),c=Object.keys(a.servers[a.activeServer]),i=a.activeTopic,l=Object(n.useState)(!1),o=Object(j.a)(l,2),s=o[0],u=o[1];return r.a.createElement(ce.a,{position:"static"},r.a.createElement(ie.a,{className:"navbar"},r.a.createElement(k.a,{edge:"start",color:"inherit","aria-label":"menu",className:"menu-burger-button",onClick:function(){return u(!0)}},r.a.createElement(oe.a,null)),r.a.createElement(se.a,{anchor:"left",open:s,onClose:function(){return u(!1)},onOpen:function(){return null}},r.a.createElement(Z,{topics:c,servers:t,setDrawerVisible:u})),r.a.createElement("i",{className:"topic-hashtag"},"#"),r.a.createElement(T.a,{variant:"h6"}," ",i.split("-")[0].toLowerCase()," ")))}var me,de=function(){var e=Object(O.c)(function(e){return e.user}),a=Object(O.b)();return Object(n.useEffect)(function(){e.isSignedIn&&a(b(e.userId))},[a,e.isSignedIn,e.userId]),r.a.createElement(o.a,{theme:ve},r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"sidebar-grid"},r.a.createElement(Z,null)),r.a.createElement("div",{className:"messages-grid"},r.a.createElement(ue,null),r.a.createElement($,null)),r.a.createElement("div",{className:"send-messages-grid"},r.a.createElement(re,null))))},ve=Object(l.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"16px",backgroundColor:"black"}},MuiSnackbarContent:{root:{backgroundColor:"#202225",color:"white"}},MuiAppBar:{colorPrimary:{backgroundColor:"#36393E",position:"absolute"}}},palette:{type:"dark",primary:{main:"#7289da"},secondary:{main:"#3ca374"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600}}),pe=t(29),Ee=t(110),fe=t(111),be=t.n(fe),ge=t(40),he=t(58),Oe=t(23),je={servers:{"programming haven":{general:[]},"game land":{HOTS:[]}},activeServer:"programming haven",activeTopic:"general"},ye={isSignedIn:!1,isAdmin:!1,userId:null,userName:"anon"+Math.floor(100*Math.random(0)),userEmail:null},Ne=Object(pe.c)({chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_CHAT":var t=a.payload,n=t.server,r=t.topic,c=t.from,i=t.msg;return Object(Oe.a)({},e,{servers:Object(Oe.a)({},e.servers,Object(ge.a)({},n,Object(Oe.a)({},e.servers[n],Object(ge.a)({},r,[].concat(Object(he.a)(e.servers[n][r]),[{from:c,msg:i}])))))});case"GET_INITIAL_DATA":return Object(Oe.a)({},e,{servers:a.payload,activeServer:Object.keys(a.payload)[0],activeTopic:Object.keys(a.payload[Object.keys(a.payload)[0]])[0]});case"CHANGE_SERVER":return Object(Oe.a)({},e,{activeServer:a.payload.server,activeTopic:Object.keys(e.servers[a.payload.server])[0]});case"CHANGE_TOPIC":return Object(Oe.a)({},e,{activeTopic:a.payload});default:return Object(Oe.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_IN":return console.log(a),Object(Oe.a)({},e,{isSignedIn:!0,userId:a.payload.userId,userName:a.payload.userName,userEmail:a.payload.userEmail});case"SIGN_OUT":return Object(Oe.a)({},e,{isSignedIn:!1,userId:null,userName:"anon"+Math.floor(100*Math.random(0))});default:return e}}}),Se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pe.d,Ie=Object(pe.e)(Ne,Se(Object(pe.a)(Ee.a,(me="https://simple-chat-apix.herokuapp.com/",function(e){var a=be()(me);return a.on("simple-chat",function(a){e.dispatch({type:"UPDATE_CHAT",payload:a})}),function(e){return function(t){if("SEND_MESSAGE"!==t.type)return e(t);a.emit("simple-chat",t.payload)}}}))));i.a.render(r.a.createElement(O.a,{store:Ie},r.a.createElement(de,null)),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.bf2222f6.chunk.js.map