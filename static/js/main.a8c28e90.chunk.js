(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,a,t){e.exports=t(181)},149:function(e,a,t){},178:function(e,a){},181:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),i=t.n(c),l=t(114),o=t(238),s=t(20),u=t.n(s),m=t(30),d="UPDATE_CHAT",v=t(31),p=t.n(v),f=function(e){return{type:"SEND_MESSAGE",payload:e}},E=function(e){return{type:"CHANGE_SERVER",payload:{server:e}}},b=function(e){return{type:"CHANGE_TOPIC",payload:e}},g=function(e){return function(){var a=Object(m.a)(u.a.mark(function a(t){var n,r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n="".concat("https://simple-chat-apix.herokuapp.com","/user?userId=").concat(e),a.next=3,p.a.get(n);case 3:r=a.sent,t({type:"GET_INITIAL_DATA",payload:r.data});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},h=function(e){return function(){var a=Object(m.a)(u.a.mark(function a(t){var n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n="".concat("https://simple-chat-apix.herokuapp.com","/user?userId=").concat(e.userId,"&userName=").concat(e.userName),p.a.post(n)&&t({type:"SIGN_IN",payload:e});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},O=function(e){return{type:"SIGN_OUT",payload:e}},y=t(10),j=(t(149),t(13)),N=t(240),S=t(217),I=t(218),k=t(211),C=t(243),w=t(215);function x(e){var a=Object(y.c)(function(e){return e.chat}),t=Object.keys(a.servers),n=Object(y.c)(function(e){return e.user}),c=Object(y.b)(),i=e.setDrawerVisible,l=e.setModalVisible,o=e.setModalType;return r.a.createElement("div",{className:"servers-container"},r.a.createElement(k.a,null,t.map(function(e){return r.a.createElement(C.a,{title:e.split("-")[0],key:e,placement:"right",className:"tooltip"},r.a.createElement(w.a,{className:"server-icon",onClick:function(){return function(e){c(E(e)),"undefined"!==typeof i&&i(!1)}(e)}},r.a.createElement(S.a,null)))}),n.isSignedIn?r.a.createElement(C.a,{title:"Create Server",key:"create-server",placement:"right",className:"tooltip"},r.a.createElement(w.a,{className:"server-icon",onClick:function(){return o("server-create-join"),void l(!0)}},r.a.createElement(I.a,null))):null))}var T=t(220),_=t(225),A=t(182),M=t(115),V=t(221),D=t(222),G=t(59),L=t(223),P=t(224),R=t(226),J=t(227),H=t(219);function U(){var e=Object(y.c)(function(e){return e.user}),a=Object(y.b)(),t=Object(n.useRef)();function c(e){"login"===e?t.current.signIn():t.current.signOut()}function i(e){if(e){var n=t.current.currentUser.get().getBasicProfile(),r=n.Eea,c=n.ig,i=n.U3;a(h({userId:r,userName:c,userEmail:i}))}else a(O(t.current.currentUser.get().getId()))}return Object(n.useEffect)(function(){window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"607332079220-hhs6rhoaq44p29150j4thfdgoj7c5k59.apps.googleusercontent.com",scope:"email"}).then(function(){t.current=window.gapi.auth2.getAuthInstance(),i(t.current.isSignedIn.get()),t.current.isSignedIn.listen(function(){i(t.current.isSignedIn.get())})})})},[]),r.a.createElement("div",null,e.isSignedIn?r.a.createElement(H.a,{onClick:function(){return c("logout")}},"Sign Out"):r.a.createElement(H.a,{onClick:function(){return c("login")}},"Sign In"))}function B(e){var a=Object(y.c)(function(e){return e.chat}),t=Object.keys(a.servers[a.activeServer]),c=a.activeServer,i=Object(y.b)(),l=Object(y.c)(function(e){return e.user}),o=e.setDrawerVisible,s=e.setModalVisible,u=e.setModalType,m=Object(n.useState)(null),d=Object(j.a)(m,2),v=d[0],p=d[1],f=function(e){u(e),s(!0)},E=function(){p(null)};return r.a.createElement("div",{className:"topics-container"},r.a.createElement(k.a,{className:"topic-list"},r.a.createElement(A.a,{className:"title-container"},c.split("-")[0],l.isSignedIn?r.a.createElement(C.a,{title:"Server Settings",key:"server-settings",placement:"right",className:"tooltip"},r.a.createElement(w.a,{onClick:function(e){p(e.currentTarget)}}," ",r.a.createElement(T.a,null)," ")):null,r.a.createElement(M.a,{id:"settings-menu",anchorEl:v,open:Boolean(v),onClick:E,onClose:E},r.a.createElement(V.a,null," Server Id - ",c.split("-")[1]," "),r.a.createElement(V.a,{onClick:function(){return f("server-rename")}}," Change Server Name "),r.a.createElement(V.a,{onClick:function(){return f("channel-create")}}," Add Channel "))),t.map(function(e,a){return r.a.createElement(D.a,{direction:"right",in:!0,timeout:200*(a+1),key:e+c},r.a.createElement(A.a,{onClick:function(a){return function(e){i(b(e)),"undefined"!==typeof o&&o(!1)}(e)},button:!0},r.a.createElement("i",{className:"topic-hashtag"},"#"),r.a.createElement(G.a,{variant:"body1"},e.split("-")[0].toLowerCase())))})),r.a.createElement("div",{className:"user-options"},r.a.createElement(A.a,{className:"user-info"},r.a.createElement(L.a,null,r.a.createElement(P.a,null,r.a.createElement(_.a,null))),r.a.createElement(R.a,{primary:l.userName}),r.a.createElement(J.a,null,r.a.createElement(U,null)))))}var K=t(228),W=t(229),z=t(230),F=t(231),X=t(239),q=t(117),Q=t(232),Y=t(233);function Z(e){var a=Object(y.c)(function(e){return e.user}).userId,t=Object(y.c)(function(e){return e.chat}).activeServer,c=e.handleModalSuccess,i=e.modalType,l="https://simple-chat-apix.herokuapp.com",o=Object(n.useState)(!0),s=Object(j.a)(o,2),d=s[0],v=s[1],f=Object(n.useState)("left"),E=Object(j.a)(f,2),b=E[0],g=E[1],h=Object(n.useState)(!1),O=Object(j.a)(h,2),N=O[0],S=O[1],I=Object(n.useState)("left"),k=Object(j.a)(I,2),C=k[0],w=k[1],x=Object(n.useState)(!1),T=Object(j.a)(x,2),_=T[0],A=T[1],M=Object(n.useState)("left"),V=Object(j.a)(M,2),L=V[0],P=V[1],R=Object(n.useState)(""),J=Object(j.a)(R,2),U=J[0],B=J[1],Z=Object(n.useState)(""),$=Object(j.a)(Z,2),ee=$[0],ae=$[1],te=Object(n.useState)(""),ne=Object(j.a)(te,2),re=ne[0],ce=ne[1],ie=function(){var e=Object(m.a)(u.a.mark(function e(a,t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(l,"/server/create?serverName=").concat(a,"&userId=").concat(t));case 3:n=e.sent,c(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0.response.data);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(u.a.mark(function e(a,t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(l,"/server/join?serverId=").concat(a,"&userId=").concat(t));case 3:n=e.sent,c(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0.response.data);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(l,"/channel/create?channelName=").concat(t,"&serverId=").concat(n,"&userId=").concat(a));case 3:r=e.sent,c(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0.response.data);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(l,"/server/rename?serverName=").concat(t,"&serverId=").concat(n,"&userId=").concat(a));case 3:r=e.sent,c(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0.response.data);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),ue=function(e,a){"Enter"===e.key&&a()};return"server-create-join"===i?r.a.createElement(q.a,{className:"modal-container"},r.a.createElement(D.a,{direction:b,in:d,timeout:500,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"modal-main"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(G.a,{variant:"h5",color:"primary",align:"center"},"Another server? Wow you're popular!")),r.a.createElement("div",{className:"modal-create-server modal-flex"},r.a.createElement(K.a,null,r.a.createElement(W.a,{onClick:function(){return g("right"),P("left"),S(!0),void v(!1)}},r.a.createElement(z.a,null,r.a.createElement(G.a,{variant:"h5",color:"primary",gutterBottom:!0},"Create"),r.a.createElement(G.a,{variant:"body1",paragraph:!0},"Create a server and invite all your buddies."),r.a.createElement(F.a,null,r.a.createElement(Q.a,{className:"modal-card-icon"})),r.a.createElement(H.a,{variant:"contained",color:"primary"},"Join a server"))))),r.a.createElement("div",{className:"modal-join-server modal-flex"},r.a.createElement(K.a,null,r.a.createElement(W.a,{onClick:function(){return g("right"),w("left"),A(!0),void v(!1)}},r.a.createElement(z.a,null,r.a.createElement(G.a,{variant:"h5",color:"secondary",gutterBottom:!0},"Join"),r.a.createElement(G.a,{variant:"body1",paragraph:!0},"Join a friends server and pwn some noobs!"),r.a.createElement(F.a,null,r.a.createElement(Y.a,{className:"modal-card-icon"})),r.a.createElement(H.a,{variant:"contained",color:"secondary"},"Join a server"))))))),r.a.createElement(D.a,{direction:C,in:N,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(G.a,{variant:"h5",color:"primary",align:"center"},"Create a Server!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(G.a,{variant:"body1",paragraph:!0}," Enter a Server Name to create a server and get access to unlimited chat channels! "),r.a.createElement(X.a,{id:"create-server-field",label:"Server Name",value:U,onChange:function(e){return B(e.target.value)},onKeyPress:function(e){return ue(e,function(){return ie(U,a)})},margin:"dense",variant:"outlined"}),r.a.createElement(H.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return ie(U,a)}},"Create Server")))),r.a.createElement(D.a,{direction:L,in:_,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(G.a,{variant:"h5",color:"primary",align:"center"},"Join a Server!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(G.a,{variant:"body1",paragraph:!0}," Enter a the Server Id provided by your friend and start chatting right now!  "),r.a.createElement(X.a,{id:"join-server-field",label:"Server Id",value:ee,onChange:function(e){return ae(e.target.value)},onKeyPress:function(e){return ue(e,function(){return le(ee,a)})},margin:"dense",variant:"outlined"}),r.a.createElement(H.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return le(ee,a)}},"Join Server"))))):"channel-create"===i?r.a.createElement(q.a,{className:"modal-container"},r.a.createElement(D.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(G.a,{variant:"h5",color:"primary",align:"center"},"Create a Channel!")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(G.a,{variant:"body1",paragraph:!0}," Enter a Channel Name for your new channel and start chatting right now!  "),r.a.createElement(X.a,{id:"create-channel-field",label:"Channel Name",value:re,onChange:function(e){return ce(e.target.value)},onKeyPress:function(e){return ue(e,function(){return oe(re,t.split("-")[1])})},margin:"dense",variant:"outlined"}),r.a.createElement(H.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return oe(re,t.split("-")[1])}},"Create Channel"))))):"server-rename"===i?r.a.createElement(q.a,{className:"modal-container"},r.a.createElement(D.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},r.a.createElement("div",{className:"modal-create"},r.a.createElement("div",{className:"modal-title modal-flex"},r.a.createElement(G.a,{variant:"h5",color:"primary",align:"center"},"Rename Server")),r.a.createElement("div",{className:"modal-create-content"},r.a.createElement(G.a,{variant:"body1",paragraph:!0}," Enter a new Server Name for Server - ",t.split("-")[0]," "),r.a.createElement(X.a,{id:"create-channel-field",label:"Channel Name",value:U,onChange:function(e){return B(e.target.value)},onKeyPress:function(e){return ue(e,function(){return se(U,t.split("-")[1])})},margin:"dense",variant:"outlined"}),r.a.createElement(H.a,{style:{marginLeft:"1em"},variant:"contained",color:"primary",onClick:function(){return se(U,t.split("-")[1])}},"Rename Server"))))):void 0}var $=t(242);function ee(e){var a=e.content,t=e.visible,n=e.setVisible;return r.a.createElement($.a,{open:t,message:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},onEntered:function(){setTimeout(function(){n(!1)},2500)}})}function ae(e){var a=Object(y.c)(function(e){return e.user}),t=Object(y.b)(),c=e.setDrawerVisible,i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],s=l[1],u=Object(n.useState)(null),m=Object(j.a)(u,2),d=m[0],v=m[1],p=Object(n.useState)(""),f=Object(j.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(!1),O=Object(j.a)(h,2),S=O[0],I=O[1];return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(x,{setDrawerVisible:c,setModalVisible:s,setModalType:v}),r.a.createElement(B,{setDrawerVisible:c,setModalVisible:s,setModalType:v}),r.a.createElement(N.a,{open:o,"aria-labelledby":"server create modal","aria-describedby":"create a server",className:"modal-wrapper",onClose:function(){return s(!1)}},r.a.createElement(Z,{handleModalSuccess:function(e){console.log(e),null!==e&&(s(!1),I(!0),b(e),t(g(a.userId)))},modalType:d})),r.a.createElement(ee,{visible:S,setVisible:I,content:E}))}var te=t(235);function ne(){var e,a=Object(y.c)(function(e){return e.chat}),t=a.activeServer,c=a.activeTopic;return Object(n.useEffect)(function(){e.scrollIntoView()}),r.a.createElement("div",{className:"messages-container"},r.a.createElement(k.a,null,a.servers[t][c].map(function(e,a){return null!==e.msg?r.a.createElement(te.a,{in:!0,timeout:500},r.a.createElement(A.a,{className:"message",key:a},r.a.createElement(L.a,null,r.a.createElement(P.a,null,r.a.createElement("img",{src:"/Simple-Chat/user.png",alt:"user icon",height:"48"}))),r.a.createElement(R.a,{primary:e.from,secondary:e.msg,className:"message-text"}))):null})),r.a.createElement("div",{ref:function(a){return e=a}}))}var re=t(234),ce=(t(150),t(113)),ie=t(109),le=t.n(ie);function oe(e){var a=Object(y.c)(function(e){return e.chat}),t=a.activeServer,c=a.activeTopic,i=Object(y.c)(function(e){return e.user}).userName,l=Object(y.b)(),o=Object(n.useState)(""),s=Object(j.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),v=Object(j.a)(d,2),p=v[0],E=v[1];function b(e){"Enter"!==e.key||e.shiftKey||(l(f({server:t,topic:c,from:i,msg:u})),m(""))}return window.onclick=function(e){String(e.target.className).includes("send-message-emoji-menu")&&E(!1)},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"send-message-border"}),r.a.createElement("div",{className:"send-message-container"},r.a.createElement(re.a,{"aria-label":"empty textarea",placeholder:"Message  #".concat(c.split("-")[0]),className:"message-text-area",value:u,onChange:function(e){return function(e){"\n"!==e.target.value&&m(e.target.value)}(e)},onKeyPress:function(e){return b(e)}}),r.a.createElement(le.a,{className:"send-message-emoji-button",onClick:function(){return E(!p)}})),r.a.createElement("div",{className:p?"send-message-emoji-menu show":"send-message-emoji-menu hide"},r.a.createElement("div",{className:"emoji-wrapper"},r.a.createElement(ce.a,{set:"emojione",onSelect:function(e){return function(e){m(u+e.native),E(!1)}(e)}}))))}var se=t(236),ue=t(237),me=t(110),de=t.n(me),ve=t(241);function pe(e){var a=Object(y.c)(function(e){return e.chat}),t=Object.keys(a.servers),c=Object.keys(a.servers[a.activeServer]),i=a.activeTopic,l=Object(n.useState)(!1),o=Object(j.a)(l,2),s=o[0],u=o[1];return r.a.createElement(se.a,{position:"static"},r.a.createElement(ue.a,{className:"navbar"},r.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"menu",className:"menu-burger-button",onClick:function(){return u(!0)}},r.a.createElement(de.a,null)),r.a.createElement(ve.a,{anchor:"left",open:s,onClose:function(){return u(!1)},onOpen:function(){return null}},r.a.createElement(ae,{topics:c,servers:t,setDrawerVisible:u})),r.a.createElement("i",{className:"topic-hashtag"},"#"),r.a.createElement(G.a,{variant:"h6"}," ",i.split("-")[0].toLowerCase()," ")))}var fe=function(){var e=Object(y.c)(function(e){return e.user}),a=Object(y.b)();return Object(n.useEffect)(function(){e.isSignedIn&&a(g(e.userId))},[a,e.isSignedIn,e.userId]),r.a.createElement(o.a,{theme:Ee},r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"sidebar-grid"},r.a.createElement(ae,null)),r.a.createElement("div",{className:"messages-grid"},r.a.createElement(pe,null),r.a.createElement(ne,null)),r.a.createElement("div",{className:"send-messages-grid"},r.a.createElement(oe,null))))},Ee=Object(l.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"16px",backgroundColor:"black"}},MuiSnackbarContent:{root:{backgroundColor:"#202225",color:"white"}},MuiAppBar:{colorPrimary:{backgroundColor:"#36393E",position:"absolute"}}},palette:{type:"dark",primary:{main:"#7289da"},secondary:{main:"#3ca374"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600}}),be=t(29),ge=t(111),he=t(112),Oe=t.n(he);var ye,je=t(40),Ne=t(58),Se=t(24),Ie={servers:{"programming haven":{general:[]},"game land":{HOTS:[]}},activeServer:"programming haven",activeTopic:"general"},ke={isSignedIn:!1,isAdmin:!1,userId:null,userName:"anon"+Math.floor(100*Math.random(0)),userEmail:null},Ce=Object(be.c)({chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d:var t=a.payload,n=t.server,r=t.topic,c=t.from,i=t.msg;return Object(Se.a)({},e,{servers:Object(Se.a)({},e.servers,Object(je.a)({},n,Object(Se.a)({},e.servers[n],Object(je.a)({},r,[].concat(Object(Ne.a)(e.servers[n][r]),[{from:c,msg:i}])))))});case"GET_INITIAL_DATA":return Object(Se.a)({},e,{servers:a.payload,activeServer:Object.keys(a.payload)[0],activeTopic:Object.keys(a.payload[Object.keys(a.payload)[0]])[0]});case"CHANGE_SERVER":return Object(Se.a)({},e,{activeServer:a.payload.server,activeTopic:Object.keys(e.servers[a.payload.server])[0]});case"CHANGE_TOPIC":return Object(Se.a)({},e,{activeTopic:a.payload});default:return Object(Se.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_IN":return console.log(a),Object(Se.a)({},e,{isSignedIn:!0,userId:a.payload.userId,userName:a.payload.userName,userEmail:a.payload.userEmail});case"SIGN_OUT":return Object(Se.a)({},e,{isSignedIn:!1,userId:null,userName:"anon"+Math.floor(100*Math.random(0))});default:return e}}}),we=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d,xe=Object(be.e)(Ce,we(Object(be.a)(ge.a,(ye="https://simple-chat-apix.herokuapp.com",function(e){var a=Oe()(ye);return function(t){return function(n){if("SEND_MESSAGE"!==n.type){if("GET_INITIAL_DATA"===n.type){var r=Object.keys(n.payload);!function(e,a,t){t.forEach(function(t){t=t.split("-")[0],console.log(t),e.on(t,function(e){a.dispatch({type:d,payload:e})})})}(a,e,r)}return t(n)}var c=n.payload.server.split("-")[0];a.emit(c,n.payload)}}}))));i.a.render(r.a.createElement(y.a,{store:xe},r.a.createElement(fe,null)),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.a8c28e90.chunk.js.map